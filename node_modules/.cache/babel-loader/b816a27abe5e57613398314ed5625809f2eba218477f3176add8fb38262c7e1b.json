{"ast":null,"code":"import { act } from \"react\";\nimport { createStore } from \"redux\";\nimport { omit } from \"lodash\";\nfunction cartReducer(state = {\n  items: {}\n}, action) {\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      {\n        const product = action.payload;\n        if (state.items[product.id]) {\n          return {\n            ...state,\n            items: {\n              ...state.items,\n              [product.id]: {\n                ...state.items[product.id],\n                quantity: state.items[product.id].quantity + 1\n              }\n            }\n          };\n        } else {\n          return {\n            ...state,\n            items: {\n              ...state.items,\n              [product.id]: {\n                ...product,\n                quantity: 1\n              }\n            }\n          };\n        }\n      }\n    case \"REMOVE_FROM_CART\":\n      {\n        const product = action.payload;\n        if (state.items[product.id].quantity <= 1) {\n          return {\n            ...state,\n            items: omit(state.items, [product.id])\n          };\n        } else {\n          return {\n            ...state,\n            items: {\n              ...state.items,\n              [product.id]: {\n                ...state.items[product.id],\n                quantity: state.items[product.id].quantity - 1\n              }\n            }\n          };\n        }\n      }\n    default:\n      return state;\n  }\n}\nconst store = createStore(cartReducer);\nexport default store;\n\n// action is an object \n\n// type\n// payload\n//state = {items: {1:{id: 1, quantity: 11}, 2:{id: 2, quantity: 10}, 3:{id: 3, quantity: 10}, 4:{id: 4, quantity: 10}}} \n\n// ...state, ...product[1]","map":{"version":3,"names":["act","createStore","omit","cartReducer","state","items","action","type","product","payload","id","quantity","store"],"sources":["/Users/sushant/Desktop/MERN_Cart/src/store.js"],"sourcesContent":["import { act } from \"react\";\nimport { createStore } from \"redux\";\nimport { omit } from \"lodash\";\nfunction cartReducer(state= { items: {}}, action) {\n  switch (action.type) {\n    case \"ADD_TO_CART\": {\n      const product = action.payload;\n      if (state.items[product.id]) {\n        return {\n          ...state,\n          items: {\n            ...state.items,\n            [product.id]: {\n              ...state.items[product.id],\n              quantity: state.items[product.id].quantity + 1\n            }\n          }\n        }\n      } else {\n        return {\n          ...state,\n          items: {\n            ...state.items,\n            [product.id]: {\n              ...product,\n              quantity: 1\n            }\n          }\n        }\n      }\n    }\n    case \"REMOVE_FROM_CART\": {\n      const product = action.payload;\n      if (state.items[product.id].quantity <= 1) {\n        return {\n          ...state,\n          items: omit(state.items, [product.id])\n        }\n      } else {\n        return {\n          ...state,\n          items: {\n            ...state.items,\n            [product.id]: {\n              ...state.items[product.id],\n              quantity: state.items[product.id].quantity - 1\n            }\n          }\n        }\n      }\n\n    }\n    default:\n      return state;\n  }\n}\n\n\nconst store = createStore(cartReducer);\n\nexport default store;\n\n\n// action is an object \n\n// type\n// payload\n//state = {items: {1:{id: 1, quantity: 11}, 2:{id: 2, quantity: 10}, 3:{id: 3, quantity: 10}, 4:{id: 4, quantity: 10}}} \n\n// ...state, ...product[1]"],"mappings":"AAAA,SAASA,GAAG,QAAQ,OAAO;AAC3B,SAASC,WAAW,QAAQ,OAAO;AACnC,SAASC,IAAI,QAAQ,QAAQ;AAC7B,SAASC,WAAWA,CAACC,KAAK,GAAE;EAAEC,KAAK,EAAE,CAAC;AAAC,CAAC,EAAEC,MAAM,EAAE;EAChD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,aAAa;MAAE;QAClB,MAAMC,OAAO,GAAGF,MAAM,CAACG,OAAO;QAC9B,IAAIL,KAAK,CAACC,KAAK,CAACG,OAAO,CAACE,EAAE,CAAC,EAAE;UAC3B,OAAO;YACL,GAAGN,KAAK;YACRC,KAAK,EAAE;cACL,GAAGD,KAAK,CAACC,KAAK;cACd,CAACG,OAAO,CAACE,EAAE,GAAG;gBACZ,GAAGN,KAAK,CAACC,KAAK,CAACG,OAAO,CAACE,EAAE,CAAC;gBAC1BC,QAAQ,EAAEP,KAAK,CAACC,KAAK,CAACG,OAAO,CAACE,EAAE,CAAC,CAACC,QAAQ,GAAG;cAC/C;YACF;UACF,CAAC;QACH,CAAC,MAAM;UACL,OAAO;YACL,GAAGP,KAAK;YACRC,KAAK,EAAE;cACL,GAAGD,KAAK,CAACC,KAAK;cACd,CAACG,OAAO,CAACE,EAAE,GAAG;gBACZ,GAAGF,OAAO;gBACVG,QAAQ,EAAE;cACZ;YACF;UACF,CAAC;QACH;MACF;IACA,KAAK,kBAAkB;MAAE;QACvB,MAAMH,OAAO,GAAGF,MAAM,CAACG,OAAO;QAC9B,IAAIL,KAAK,CAACC,KAAK,CAACG,OAAO,CAACE,EAAE,CAAC,CAACC,QAAQ,IAAI,CAAC,EAAE;UACzC,OAAO;YACL,GAAGP,KAAK;YACRC,KAAK,EAAEH,IAAI,CAACE,KAAK,CAACC,KAAK,EAAE,CAACG,OAAO,CAACE,EAAE,CAAC;UACvC,CAAC;QACH,CAAC,MAAM;UACL,OAAO;YACL,GAAGN,KAAK;YACRC,KAAK,EAAE;cACL,GAAGD,KAAK,CAACC,KAAK;cACd,CAACG,OAAO,CAACE,EAAE,GAAG;gBACZ,GAAGN,KAAK,CAACC,KAAK,CAACG,OAAO,CAACE,EAAE,CAAC;gBAC1BC,QAAQ,EAAEP,KAAK,CAACC,KAAK,CAACG,OAAO,CAACE,EAAE,CAAC,CAACC,QAAQ,GAAG;cAC/C;YACF;UACF,CAAC;QACH;MAEF;IACA;MACE,OAAOP,KAAK;EAChB;AACF;AAGA,MAAMQ,KAAK,GAAGX,WAAW,CAACE,WAAW,CAAC;AAEtC,eAAeS,KAAK;;AAGpB;;AAEA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}